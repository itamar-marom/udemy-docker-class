#node1:
docker swarm init --advertise-addr eth0

#node2: 
docker swarm join --token SWMTKN-1-29biyxl6xlbp7zrzllw550f11xs4tvl9xdq0mh5xe680aj1ome-ew0cbl8nmzbs65woz17y9bk1k 192.168.0.8:2377

#node3:
docker swarm join --token SWMTKN-1-29biyxl6xlbp7zrzllw550f11xs4tvl9xdq0mh5xe680aj1ome-a805lxsn3zlpsffcr9cat6nvg 192.168.0.8:2377

#node1:
docker node update --role manager node2
docker service create --replicas 3 alpine ping 8.8.8.8
docker service ls

# LESSON 2: DRUPAL SWARM
#node1:
docker network create --driver overlay mydrupal
docker service create --name psql --network mydrupal -e POSTGRES_PASSWORD=mypass postgres
docker service create --name drupal --network mydrupal -p 80:80 drupal
docker service ls

# LESSON 3: ELK
#node1:
docker service create --name search --replicas 3 -p 9200:9200 elasticsearch:7